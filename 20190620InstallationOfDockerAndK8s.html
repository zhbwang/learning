
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Docker + K8S 集群环境安装指南 · 文斌的学习笔记</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="wangzb">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-navigator/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="20190621DockerAndK8sStart.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="20190703SuperiorImformationSrc.html">
            
                <a href="20190703SuperiorImformationSrc.html">
            
                    
                    优质信息来源
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">认知升级</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="20190622EfficientLife.html">
            
                <a href="20190622EfficientLife.html">
            
                    
                    如何实现高效人生——打造自己的效率体系
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="20190606BuildKnowledgeBase.html">
            
                <a href="20190606BuildKnowledgeBase.html">
            
                    
                    如何建立自己的知识库-未完待续
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" >
            
                <span>
            
                    
                    知识库建立
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="20190625WikiUserGuide.html">
            
                <a href="20190625WikiUserGuide.html">
            
                    
                    知识库使用手册
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="20190625WikiDocSpec.html">
            
                <a href="20190625WikiDocSpec.html">
            
                    
                    知识库文档规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">技术学习</li>
        
        
    
        <li class="chapter " data-level="3.1" >
            
                <span>
            
                    
                    大数据学习之路
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" >
            
                <span>
            
                    
                    初识Hadoop
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="20190515HadoopQuickStart.html">
            
                <a href="20190515HadoopQuickStart.html">
            
                    
                    让Hadoop在MacOS上跑起来
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="20190517FirstMapreduceProgram.html">
            
                <a href="20190517FirstMapreduceProgram.html">
            
                    
                    第一个MapReduce程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="20190517HadoopCommands.html">
            
                <a href="20190517HadoopCommands.html">
            
                    
                    Hadoop常用命令详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="20190517MapreduceProgramWithIdea.html">
            
                <a href="20190517MapreduceProgramWithIdea.html">
            
                    
                    使用IDEA开发MapReduce程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5" data-path="20190522HadoopPrinciple.html">
            
                <a href="20190522HadoopPrinciple.html">
            
                    
                    Hadoop原理与架构解析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" >
            
                <span>
            
                    
                    更高效的WordCount——Hive
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="20190525HiveQuickStart.html">
            
                <a href="20190525HiveQuickStart.html">
            
                    
                    Hive安装与使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="20190527WordcountProgramByHive.html">
            
                <a href="20190527WordcountProgramByHive.html">
            
                    
                    Hive实现wordcount词频统计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="20190529HiveArchitecture.html">
            
                <a href="20190529HiveArchitecture.html">
            
                    
                    Hive原理详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.4" data-path="20190609HiveCommands.html">
            
                <a href="20190609HiveCommands.html">
            
                    
                    Hive常用命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" >
            
                <span>
            
                    
                    数据采集与交换
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="20190611SqoopQuickStart.html">
            
                <a href="20190611SqoopQuickStart.html">
            
                    
                    Sqoop 安装与使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.2" >
            
                <span>
            
                    
                    Flume
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3" data-path="20190703IntroduceOfDataX.html">
            
                <a href="20190703IntroduceOfDataX.html">
            
                    
                    DataX 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.4" data-path="20190703QuickStartOfDataX.html">
            
                <a href="20190703QuickStartOfDataX.html">
            
                    
                    DataX 快速使用指南
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.4" >
            
                <span>
            
                    
                    快一点吧，我的SQL——Spark&SparkSQL
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5" >
            
                <span>
            
                    
                    一次采集、多次消费——Kafka
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.6" >
            
                <span>
            
                    
                    调度监控系统——Apache Oozie
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.7" >
            
                <span>
            
                    
                    实时计算——Storm、SparkStreaming、Flink
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8" >
            
                <span>
            
                    
                    数据对外访问
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9" >
            
                <span>
            
                    
                    机器学习
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="20180712LinuxCommands.html">
            
                <a href="20180712LinuxCommands.html">
            
                    
                    Linux常用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="20190612ProblemOfSpringbootProgram.html">
            
                <a href="20190612ProblemOfSpringbootProgram.html">
            
                    
                    SpringBoot程序内存占用过高解决方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="20190619VMInstallRemotely.html">
            
                <a href="20190619VMInstallRemotely.html">
            
                    
                    使用vmfusion远程安装虚拟机
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" >
            
                <span>
            
                    
                    Docker + Kubernetes 实践
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.3.1" data-path="20190620InstallationOfDockerAndK8s.html">
            
                <a href="20190620InstallationOfDockerAndK8s.html">
            
                    
                    Docker + K8S 集群环境安装指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="20190621DockerAndK8sStart.html">
            
                <a href="20190621DockerAndK8sStart.html">
            
                    
                    Docker 与 Kubernetes 快速入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="20190624NginxPHPInDocker.html">
            
                <a href="20190624NginxPHPInDocker.html">
            
                    
                    Docker 部署 Nginx + PHP 环境
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" >
            
                <span>
            
                    
                    开发工具
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="20190426InstallationOfPython.html">
            
                <a href="20190426InstallationOfPython.html">
            
                    
                    MacOS中Python环境搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="20190613InstallationOfNginx.html">
            
                <a href="20190613InstallationOfNginx.html">
            
                    
                    CentOS 6 安装 Nginx 指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="20190624NginxPHPInDocker.html">
            
                <a href="20190624NginxPHPInDocker.html">
            
                    
                    Docker 部署 Nginx + PHP 环境
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" >
            
                <span>
            
                    
                    工具使用
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.5.1" data-path="20180603IntroductionOfMarkdown.html">
            
                <a href="20180603IntroductionOfMarkdown.html">
            
                    
                    初步认识Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.2" data-path="20190214GiteeCommands.html">
            
                <a href="20190214GiteeCommands.html">
            
                    
                    Git代码转移到码云相关命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.3" data-path="20190603InstallationOfDoduwiki.html">
            
                <a href="20190603InstallationOfDoduwiki.html">
            
                    
                    DokuWiki安装小记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.4" data-path="20190513UseOfiTerm.html">
            
                <a href="20190513UseOfiTerm.html">
            
                    
                    iTerm2快速SSH连接并保存密码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.6" >
            
                <span>
            
                    
                    MacOS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="20190603BrewOnMacOS.html">
            
                <a href="20190603BrewOnMacOS.html">
            
                    
                    MacOS的brew update很慢问题解决方案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.2" data-path="20190603InstallationOfPhp.html">
            
                <a href="20190603InstallationOfPhp.html">
            
                    
                    MacOS下安装PHP与nginx配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.3" data-path="20180904PopularAppOnMacOS.html">
            
                <a href="20180904PopularAppOnMacOS.html">
            
                    
                    MacOS中有哪些比较好的软件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Docker + K8S 集群环境安装指南</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="CentOS_7_&#x5B89;&#x88C5;_Docker___K8S_&#x96C6;&#x7FA4;&#x6307;&#x5357;">CentOS 7 &#x5B89;&#x88C5; Docker + K8S &#x96C6;&#x7FA4;&#x6307;&#x5357;</h1>
<h2 id="&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x51C6;&#x5907;">1. &#x5B89;&#x88C5;&#x73AF;&#x5883;&#x51C6;&#x5907;</h2>
<ul>
<li>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF1A;CentOS 7 64&#x4F4D;</li>
<li>&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#xFF1A;3.10&#x4EE5;&#x4E0A;</li>
<li>&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;</li>
<li>&#x5B89;&#x88C5;<code>yum-config-manager</code>&#xFF1A;<code>yum -y install yum-utils</code>&#x3002;&#x589E;&#x52A0;Docker-CE&#x4ED3;&#x5E93;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x3002;</li>
</ul>
<h2 id="&#x65B0;&#x624B;&#x5165;&#x95E8;">2. &#x65B0;&#x624B;&#x5165;&#x95E8;</h2>
<p>&#x95EE;&#x9898;&#xFF1A;</p>
<ol>
<li>&#x5B89;&#x88C5; Docker &#x9700;&#x8981;&#x51C6;&#x5907;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x5982;&#x4F55;&#x642D;&#x5EFA; Docker &#x96C6;&#x7FA4;&#xFF1F;Docker &#x96C6;&#x7FA4;&#x4F7F;&#x7528; k8s &#xFF1F;</li>
<li>&#x5B89;&#x88C5; Docker &#x540E;&#x80FD;&#x8FBE;&#x5230;&#x4EC0;&#x4E48;&#x6548;&#x679C;&#xFF1F;</li>
</ol>
<h2 id="&#x5B89;&#x88C5;_Docker">3. &#x5B89;&#x88C5; Docker</h2>
<p>&#x53C2;&#x8003;<a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank">&#x5B98;&#x65B9;&#x5B89;&#x88C5;&#x6587;&#x6863;</a></p>
<h3 id="&#x589E;&#x52A0;_Docker_&#x4ED3;&#x5E93;">3.1. &#x589E;&#x52A0; Docker &#x4ED3;&#x5E93;</h3>
<pre><code># &#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x963F;&#x91CC;&#x4E91;&#x4ED3;&#x5E93;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x5B98;&#x65B9;&#x4ED3;&#x5E93;&#x53EF;&#x80FD;&#x8BBF;&#x95EE;&#x4E0D;&#x4E86;&#x3002;&#x4F60;&#x61C2;&#x7684;~
# yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

[root@bd129137 ~]# yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
&#x5DF2;&#x52A0;&#x8F7D;&#x63D2;&#x4EF6;&#xFF1A;fastestmirror
adding repo from: https://download.docker.com/linux/centos/docker-ce.repo
grabbing file https://download.docker.com/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo
repo saved to /etc/yum.repos.d/docker-ce.repo

[root@bd129137 ~]# yum repolist
&#x5DF2;&#x52A0;&#x8F7D;&#x63D2;&#x4EF6;&#xFF1A;fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.163.com
 * extras: mirrors.cn99.com
 * updates: mirrors.cn99.com
&#x6E90;&#x6807;&#x8BC6;                                                                                            &#x6E90;&#x540D;&#x79F0;                                                                                              &#x72B6;&#x6001;
base/7/x86_64                                                                                     CentOS-7 - Base                                                                                     10,019
docker-ce-stable/x86_64                                                                           Docker CE Stable - x86_64                                                                               43
extras/7/x86_64                                                                                   CentOS-7 - Extras                                                                                      419
updates/7/x86_64                                                                                  CentOS-7 - Updates                                                                                   2,089
repolist: 12,570
</code></pre><h3 id="&#x4F7F;&#x7528;_yum_&#x5B89;&#x88C5;_Docker-CE">3.2. &#x4F7F;&#x7528; yum &#x5B89;&#x88C5; Docker-CE</h3>
<pre><code># yum -y install docker-ce docker-ce-cli containerd.io
</code></pre><h3 id="&#x542F;&#x52A8;_Docker_&#x540E;&#x53F0;&#x670D;&#x52A1;">3.3. &#x542F;&#x52A8; Docker &#x540E;&#x53F0;&#x670D;&#x52A1;</h3>
<pre><code># systemctl start docker
</code></pre><h3 id="&#x67E5;&#x770B;_Docker_&#x7248;&#x672C;">3.4. &#x67E5;&#x770B; Docker &#x7248;&#x672C;</h3>
<pre><code>[root@bd129137 ~]# yum list docker-ce
&#x5DF2;&#x52A0;&#x8F7D;&#x63D2;&#x4EF6;&#xFF1A;fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.163.com
 * extras: mirrors.cn99.com
 * updates: mirrors.cn99.com
&#x5DF2;&#x5B89;&#x88C5;&#x7684;&#x8F6F;&#x4EF6;&#x5305;
docker-ce.x86_64                                                                              3:18.09.6-3.el7                                                                              @docker-ce-stable

[root@bd129137 ~]# yum list docker-ce --showduplicates | sort -r
&#x67E5;&#x770B;&#x53EF;&#x7528;&#x7248;&#x672C;

[root@bd129137 ~]# docker --version
Docker version 18.09.6, build 481bc77156
</code></pre><h3 id="&#x67E5;&#x770B;_Docker_&#x4FE1;&#x606F;">3.5. &#x67E5;&#x770B; Docker &#x4FE1;&#x606F;</h3>
<p>Docker &#x6839;&#x76EE;&#x5F55;&#xFF1A;<code>/var/lib/docker</code></p>
<pre><code>
[root@bd129137 ~]# docker info
Containers: 1
 Running: 0
 Paused: 0
 Stopped: 1
Images: 1
Server Version: 18.09.6
Storage Driver: devicemapper
 Pool Name: docker-253:0-201703810-pool
 Pool Blocksize: 65.54kB
 Base Device Size: 10.74GB
 Backing Filesystem: xfs
 Udev Sync Supported: true
 Data file: /dev/loop0
 Metadata file: /dev/loop1
 Data loop file: /var/lib/docker/devicemapper/devicemapper/data
 Metadata loop file: /var/lib/docker/devicemapper/devicemapper/metadata
 Data Space Used: 19.33MB
 Data Space Total: 107.4GB
 Data Space Available: 51.17GB
 Metadata Space Used: 593.9kB
 Metadata Space Total: 2.147GB
 Metadata Space Available: 2.147GB
 Thin Pool Minimum Free Space: 10.74GB
 Deferred Removal Enabled: true
 Deferred Deletion Enabled: true
 Deferred Deleted Device Count: 0
 Library Version: 1.02.149-RHEL7 (2018-07-20)
Logging Driver: json-file
Cgroup Driver: cgroupfs
Plugins:
 Volume: local
 Network: bridge host macvlan null overlay
 Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog
Swarm: inactive
Runtimes: runc
Default Runtime: runc
Init Binary: docker-init
containerd version: bb71b10fd8f58240ca47fbb579b9d1028eea7c84
runc version: 2b18fe1d885ee5083ef9f0838fee39b62d653e30
init version: fec3683
Security Options:
 seccomp
  Profile: default
Kernel Version: 3.10.0-327.el7.x86_64
Operating System: CentOS Linux 7 (Core)
OSType: linux
Architecture: x86_64
CPUs: 12
Total Memory: 31.25GiB
Name: bd129137
ID: X3VZ:RZUQ:KIZQ:LRR6:6CCP:KG2R:HHH4:CGB2:EXBD:OMH2:QLYB:OUJN
Docker Root Dir: /var/lib/docker
Debug Mode (client): false
Debug Mode (server): false
Registry: https://index.docker.io/v1/
Labels:
Experimental: false
Insecure Registries:
 127.0.0.0/8
Live Restore Enabled: false
Product License: Community Engine

WARNING: bridge-nf-call-iptables is disabled
WARNING: bridge-nf-call-ip6tables is disabled
WARNING: the devicemapper storage-driver is deprecated, and will be removed in a future release.
WARNING: devicemapper: usage of loopback devices is strongly discouraged for production use.
         Use `--storage-opt dm.thinpooldev` to specify a custom block storage device.
</code></pre><h3 id="&#x9A8C;&#x8BC1;_Docker">3.6. &#x9A8C;&#x8BC1; Docker</h3>
<pre><code>[root@bd129137 ~]# docker run hello-world
Unable to find image &apos;hello-world:latest&apos; locally
latest: Pulling from library/hello-world
1b930d010525: Pull complete
Digest: sha256:41a65640635299bab090f783209c1e3a3f11934cf7756b09cb2f1e02147c6ed8
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre><h3 id="&#x8D70;&#x8FC7;&#x7684;&#x5751;">3.7. &#x8D70;&#x8FC7;&#x7684;&#x5751;</h3>
<h4 id="&#x83B7;&#x53D6;&#x5BC6;&#x94A5;&#x5931;&#x8D25;">3.7.1. &#x83B7;&#x53D6;&#x5BC6;&#x94A5;&#x5931;&#x8D25;</h4>
<p>&#x5B89;&#x88C5;&#x671F;&#x95F4;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>warning: /var/cache/yum/x86_64/7/docker-ce-stable/packages/containerd.io-1.2.5-3.1.el7.x86_64.rpm: Header V4 RSA/SHA512 Signature, key ID 621e9f35: NOKEY
&#x4ECE; https://download.docker.com/linux/centos/gpg &#x68C0;&#x7D22;&#x5BC6;&#x94A5;


&#x83B7;&#x53D6; GPG &#x5BC6;&#x94A5;&#x5931;&#x8D25;&#xFF1A;[Errno 12] Timeout on https://download.docker.com/linux/centos/gpg: (28, &apos;Operation timed out after 30001 milliseconds with 0 out of 0 bytes received&apos;)
</code></pre><p>&#x539F;&#x56E0;&#xFF1A;&#x8FDE;&#x63A5; <code>download.docker.com</code> &#x8D85;&#x65F6;&#x3002;
&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;&#x5728;&#x589E;&#x52A0; Docker &#x4ED3;&#x5E93;&#x65F6;&#x9009;&#x62E9;&#x963F;&#x91CC;&#x4E91;&#x7684;&#x4ED3;&#x5E93;&#x3002;&#x901F;&#x5EA6;&#x6760;&#x6760;&#x7684;&#x3002;</p>
<pre><code># yum-config-manager --disable docker-ce-stable
# yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre><p>&#x53C2;&#x8003;<a href="https://www.runoob.com/docker/centos-docker-install.html" target="_blank">CentOS Docker &#x5B89;&#x88C5;</a>&#x3002;</p>
<h2 id="Docker_&#x547D;&#x4EE4;">4. Docker &#x547D;&#x4EE4;</h2>
<h3 id="&#x57FA;&#x7840;&#x547D;&#x4EE4;">4.1. &#x57FA;&#x7840;&#x547D;&#x4EE4;</h3>
<pre><code># docker version # &#x67E5;&#x770B;docker&#x7684;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x5305;&#x62EC;&#x5BA2;&#x6237;&#x7AEF;&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x3001;&#x4F9D;&#x8D56;&#x7684;Go&#x7B49;
# docker info # &#x67E5;&#x770B;&#x7CFB;&#x7EDF;(docker)&#x5C42;&#x9762;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x7BA1;&#x7406;&#x7684;images, containers&#x6570;&#x7B49;
# docker pull centos #&#x4E0B;&#x8F7D;&#x955C;&#x50CF;
# docker images  #&#x67E5;&#x770B;&#x955C;&#x50CF;
# docker run -i -t centos /bin/bash  #&#x542F;&#x52A8;&#x4E00;&#x4E2A;bash&#x5E94;&#x7528;&#x5BB9;&#x5668;
</code></pre><h3 id="&#x4F7F;&#x7528;&#x955C;&#x50CF;">4.2. &#x4F7F;&#x7528;&#x955C;&#x50CF;</h3>
<pre><code># docker search &lt;image&gt; # &#x5728;docker index&#x4E2D;&#x641C;&#x7D22;image
# docker pull &lt;image&gt;  # &#x4ECE;docker registry server &#x4E2D;&#x4E0B;&#x62C9;image
# docker images  # &#x5217;&#x51FA;images
# docker images -a # &#x5217;&#x51FA;&#x6240;&#x6709;&#x7684;images&#xFF08;&#x5305;&#x542B;&#x5386;&#x53F2;&#xFF09;
# docker rmi  &lt;image ID&gt;&#xFF1A; # &#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;image
</code></pre><h3 id="&#x4F7F;&#x7528;&#x5BB9;&#x5668;">4.3. &#x4F7F;&#x7528;&#x5BB9;&#x5668;</h3>
<pre><code># &#x4F7F;&#x7528;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5BB9;&#x5668;
# docker run -i -t sauloal/ubuntu14.04
# docker run -i -t sauloal/ubuntu14.04 /bin/bash # &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x8BA9;&#x5176;&#x4E2D;&#x8FD0;&#x884C; bash &#x5E94;&#x7528;&#xFF0C;&#x9000;&#x51FA;&#x540E;&#x5BB9;&#x5668;&#x5173;&#x95ED;
# docker run -itd --name centos_aways --restart=always centos #&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x79F0;centos_aways&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x81EA;&#x52A8;&#x91CD;&#x542F;
# --restart&#x53C2;&#x6570;&#xFF1A;always&#x59CB;&#x7EC8;&#x91CD;&#x542F;&#xFF1B;on-failure&#x9000;&#x51FA;&#x72B6;&#x6001;&#x975E;0&#x65F6;&#x91CD;&#x542F;&#xFF1B;&#x9ED8;&#x8BA4;&#x4E3A;&#xFF0C;no&#x4E0D;&#x91CD;&#x542F;

# &#x67E5;&#x770B;&#x5BB9;&#x5668;
# docker ps &#xFF1A;&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;container
# docker ps -l &#xFF1A;&#x5217;&#x51FA;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x542F;&#x52A8;&#x7684;container
# docker ps -a &#xFF1A;&#x5217;&#x51FA;&#x6240;&#x6709;&#x7684;container&#xFF08;&#x5305;&#x542B;&#x5386;&#x53F2;&#xFF0C;&#x5373;&#x8FD0;&#x884C;&#x8FC7;&#x7684;container&#xFF09;
# docker ps -q &#xFF1A;&#x5217;&#x51FA;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x7684;container ID

# &#x518D;&#x6B21;&#x542F;&#x52A8;&#x5BB9;&#x5668;
# docker start/stop/restart &lt;container&gt; #&#xFF1A;&#x5F00;&#x542F;/&#x505C;&#x6B62;/&#x91CD;&#x542F;container
# docker start [container_id] #&#xFF1A;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x67D0;&#x4E2A;container &#xFF08;&#x5305;&#x62EC;&#x5386;&#x53F2;container&#xFF09;

#&#x8FDB;&#x5165;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;docker&#x5BB9;&#x5668;
# docker exec -it [container_id] /bin/bash
# docker run -i -t -p &lt;host_port:contain_port&gt; #&#xFF1A;&#x6620;&#x5C04; HOST &#x7AEF;&#x53E3;&#x5230;&#x5BB9;&#x5668;&#xFF0C;&#x65B9;&#x4FBF;&#x5916;&#x90E8;&#x8BBF;&#x95EE;&#x5BB9;&#x5668;&#x5185;&#x670D;&#x52A1;&#xFF0C;host_port &#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF0C;&#x7701;&#x7565;&#x8868;&#x793A;&#x628A; # container_port &#x6620;&#x5C04;&#x5230;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x7AEF;&#x53E3;&#x3002;

# &#x5220;&#x9664;&#x5BB9;&#x5668;
# docker rm &lt;container...&gt; #&#xFF1A;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;container
# docker rm `docker ps -a -q` #&#xFF1A;&#x5220;&#x9664;&#x6240;&#x6709;&#x7684;container
# docker ps -a -q | xargs docker rm #&#xFF1A;&#x540C;&#x4E0A;, &#x5220;&#x9664;&#x6240;&#x6709;&#x7684;container

&#x5907;&#x6CE8;&#xFF1A;docker run &#x548C; docker create &#x53C2;&#x6570;&#x57FA;&#x672C;&#x4E00;&#x6837;&#xFF0C;run&#x662F;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x5E76;&#x540E;&#x53F0;&#x542F;&#x52A8;&#xFF0C;create&#x662F;&#x53EA;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x3002; 
docker run &#x76F8;&#x5F53;&#x4E8E;docker create &#x548C; docker start
</code></pre><h3 id="Docker_run_&#x547D;&#x4EE4;&#x8BE6;&#x89E3;">4.4. Docker run &#x547D;&#x4EE4;&#x8BE6;&#x89E3;</h3>
<p>&#x547D;&#x4EE4;&#x683C;&#x5F0F;&#xFF1A;<code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code>
Usage: Run a command in a new container
&#x4E2D;&#x6587;&#x610F;&#x601D;&#x4E3A;&#xFF1A;&#x901A;&#x8FC7;run&#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5BB9;&#x5668;&#xFF08;container&#xFF09;</p>
<h4 id="&#x5E38;&#x7528;&#x9009;&#x9879;&#x8BF4;&#x660E;">4.4.1. &#x5E38;&#x7528;&#x9009;&#x9879;&#x8BF4;&#x660E;</h4>
<ul>
<li><code>-d, --detach=false</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x4E8E;&#x524D;&#x53F0;&#x8FD8;&#x662F;&#x540E;&#x53F0;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false</li>
<li><code>-i, --interactive=false</code>&#xFF0C; &#x6253;&#x5F00;STDIN&#xFF0C;&#x7528;&#x4E8E;&#x63A7;&#x5236;&#x53F0;&#x4EA4;&#x4E92;</li>
<li><code>-t, --tty=false</code>&#xFF0C; &#x5206;&#x914D;tty&#x8BBE;&#x5907;&#xFF0C;&#x8BE5;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x7EC8;&#x7AEF;&#x767B;&#x5F55;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false</li>
<li><code>-u, --user=&quot;&quot;</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;&#x7528;&#x6237;</li>
<li><code>-a, --attach=[]</code>&#xFF0C; &#x767B;&#x5F55;&#x5BB9;&#x5668;&#xFF08;&#x5FC5;&#x987B;&#x662F;&#x4EE5;docker run -d&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;&#xFF09;</li>
<li><code>-w, --workdir=&quot;&quot;</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</li>
<li><code>-c, --cpu-shares=0</code>&#xFF0C; &#x8BBE;&#x7F6E;&#x5BB9;&#x5668;CPU&#x6743;&#x91CD;&#xFF0C;&#x5728;CPU&#x5171;&#x4EAB;&#x573A;&#x666F;&#x4F7F;&#x7528;</li>
<li><code>-e, --env=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x5BB9;&#x5668;&#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x73AF;&#x5883;&#x53D8;&#x91CF;</li>
<li><code>-m, --memory=&quot;&quot;</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;&#x5185;&#x5B58;&#x4E0A;&#x9650;</li>
<li><code>-P, --publish-all=false</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x66B4;&#x9732;&#x7684;&#x7AEF;&#x53E3;</li>
<li><code>-p, --publish=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x66B4;&#x9732;&#x7684;&#x7AEF;&#x53E3;</li>
<li><code>-h, --hostname=&quot;&quot;</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;&#x4E3B;&#x673A;&#x540D;</li>
<li><code>-v, --volume=[]</code>&#xFF0C; &#x7ED9;&#x5BB9;&#x5668;&#x6302;&#x8F7D;&#x5B58;&#x50A8;&#x5377;&#xFF0C;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x7684;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;</li>
<li><code>--volumes-from=[]</code>&#xFF0C; &#x7ED9;&#x5BB9;&#x5668;&#x6302;&#x8F7D;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x4E0A;&#x7684;&#x5377;&#xFF0C;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x7684;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;</li>
<li><code>--cap-add=[]</code>&#xFF0C; &#x6DFB;&#x52A0;&#x6743;&#x9650;&#xFF0C;&#x6743;&#x9650;&#x6E05;&#x5355;&#x8BE6;&#x89C1;&#xFF1A;<a href="http://linux.die.net/man/7/capabilities" target="_blank">http://linux.die.net/man/7/capabilities</a></li>
<li><code>--cap-drop=[]</code>&#xFF0C; &#x5220;&#x9664;&#x6743;&#x9650;&#xFF0C;&#x6743;&#x9650;&#x6E05;&#x5355;&#x8BE6;&#x89C1;&#xFF1A;<a href="http://linux.die.net/man/7/capabilities" target="_blank">http://linux.die.net/man/7/capabilities</a></li>
<li><code>--cidfile=&quot;&quot;</code>&#xFF0C; &#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x540E;&#xFF0C;&#x5728;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x5165;&#x5BB9;&#x5668;PID&#x503C;&#xFF0C;&#x4E00;&#x79CD;&#x5178;&#x578B;&#x7684;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x7528;&#x6CD5;</li>
<li><code>--cpuset=&quot;&quot;</code>&#xFF0C; &#x8BBE;&#x7F6E;&#x5BB9;&#x5668;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;CPU&#xFF0C;&#x6B64;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5BB9;&#x5668;&#x72EC;&#x5360;CPU</li>
<li><code>--device=[]</code>&#xFF0C; &#x6DFB;&#x52A0;&#x4E3B;&#x673A;&#x8BBE;&#x5907;&#x7ED9;&#x5BB9;&#x5668;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x8BBE;&#x5907;&#x76F4;&#x901A;</li>
<li><code>--dns=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;dns&#x670D;&#x52A1;&#x5668;</li>
<li><code>--dns-search=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;dns&#x641C;&#x7D22;&#x57DF;&#x540D;&#xFF0C;&#x5199;&#x5165;&#x5230;&#x5BB9;&#x5668;&#x7684;/etc/resolv.conf&#x6587;&#x4EF6;</li>
<li><code>--entrypoint=&quot;&quot;</code>&#xFF0C; &#x8986;&#x76D6;image&#x7684;&#x5165;&#x53E3;&#x70B9;</li>
<li><code>--env-file=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4E3A;&#x6BCF;&#x884C;&#x4E00;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;</li>
<li><code>--expose=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x66B4;&#x9732;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x5373;&#x4FEE;&#x6539;&#x955C;&#x50CF;&#x7684;&#x66B4;&#x9732;&#x7AEF;&#x53E3;</li>
<li><code>--link=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x95F4;&#x7684;&#x5173;&#x8054;&#xFF0C;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x7684;IP&#x3001;env&#x7B49;&#x4FE1;&#x606F;</li>
<li><code>--lxc-conf=[]</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x6307;&#x5B9A;--exec-driver=lxc&#x65F6;&#x4F7F;&#x7528;</li>
<li><code>--name=&quot;&quot;</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x540D;&#x5B57;&#xFF0C;&#x540E;&#x7EED;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x540D;&#x5B57;&#x8FDB;&#x884C;&#x5BB9;&#x5668;&#x7BA1;&#x7406;&#xFF0C;links&#x7279;&#x6027;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x540D;&#x5B57;</li>
<li><code>--net=&quot;bridge&quot;</code>&#xFF0C; &#x5BB9;&#x5668;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;:<ul>
<li><code>bridge</code> &#x4F7F;&#x7528;docker daemon&#x6307;&#x5B9A;&#x7684;&#x7F51;&#x6865;</li>
<li><code>host</code> //&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x7EDC;</li>
<li><code>container:NAME_or_ID &gt;</code>//&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x8DEF;&#xFF0C;&#x5171;&#x4EAB;IP&#x548C;PORT&#x7B49;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;</li>
<li><code>none</code> &#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#xFF08;&#x7C7B;&#x4F3C;--net=bridge&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;</li>
</ul>
</li>
<li><code>--privileged=false</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x662F;&#x5426;&#x4E3A;&#x7279;&#x6743;&#x5BB9;&#x5668;&#xFF0C;&#x7279;&#x6743;&#x5BB9;&#x5668;&#x62E5;&#x6709;&#x6240;&#x6709;&#x7684;capabilities</li>
<li><code>--restart=&quot;no&quot;</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x505C;&#x6B62;&#x540E;&#x7684;&#x91CD;&#x542F;&#x7B56;&#x7565;:<ul>
<li><code>no</code>&#xFF1A;&#x5BB9;&#x5668;&#x9000;&#x51FA;&#x65F6;&#x4E0D;&#x91CD;&#x542F;</li>
<li><code>on-failure</code>&#xFF1A;&#x5BB9;&#x5668;&#x6545;&#x969C;&#x9000;&#x51FA;&#xFF08;&#x8FD4;&#x56DE;&#x503C;&#x975E;&#x96F6;&#xFF09;&#x65F6;&#x91CD;&#x542F;</li>
<li><code>always</code>&#xFF1A;&#x5BB9;&#x5668;&#x9000;&#x51FA;&#x65F6;&#x603B;&#x662F;&#x91CD;&#x542F;</li>
</ul>
</li>
<li><code>--rm=false</code>&#xFF0C; &#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x505C;&#x6B62;&#x540E;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x5BB9;&#x5668;(&#x4E0D;&#x652F;&#x6301;&#x4EE5;docker run -d&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;)</li>
<li><code>--sig-proxy=true</code>&#xFF0C; &#x8BBE;&#x7F6E;&#x7531;&#x4EE3;&#x7406;&#x63A5;&#x53D7;&#x5E76;&#x5904;&#x7406;&#x4FE1;&#x53F7;&#xFF0C;&#x4F46;&#x662F;SIGCHLD&#x3001;SIGSTOP&#x548C;SIGKILL&#x4E0D;&#x80FD;&#x88AB;&#x4EE3;&#x7406;</li>
</ul>
<h4 id="&#x793A;&#x4F8B;">4.4.2. &#x793A;&#x4F8B;</h4>
<ol>
<li>&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5728;&#x540E;&#x53F0;&#x6267;&#x884C;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x8FD8;&#x80FD;&#x7528;&#x63A7;&#x5236;&#x53F0;&#x7BA1;&#x7406;&#xFF1A;<code>docker run -i -t -d ubuntu:latest</code></li>
<li>&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5E26;&#x547D;&#x4EE4;&#x5728;&#x540E;&#x53F0;&#x4E0D;&#x65AD;&#x6267;&#x884C;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x4E0D;&#x76F4;&#x63A5;&#x5C55;&#x793A;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x4FE1;&#x606F;&#xFF1A;<code>docker run -d ubuntu:latest ping www.docker.com</code></li>
<li>&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5728;&#x540E;&#x53F0;&#x4E0D;&#x65AD;&#x6267;&#x884C;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#x5E26;&#x6709;&#x547D;&#x4EE4;&#xFF0C;&#x7A0B;&#x5E8F;&#x88AB;&#x7EC8;&#x6B62;&#x540E;&#x8FD8;&#x80FD;&#x91CD;&#x542F;&#x7EE7;&#x7EED;&#x8DD1;&#xFF0C;&#x8FD8;&#x80FD;&#x7528;&#x63A7;&#x5236;&#x53F0;&#x7BA1;&#x7406;&#xFF0C;<code>docker run -d --restart=always ubuntu:latest ping www.docker.com</code></li>
<li>&#x4E3A;&#x5BB9;&#x5668;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#xFF0C;<code>docker run -d --name=ubuntu_server ubuntu:latest</code></li>
<li>&#x5BB9;&#x5668;&#x66B4;&#x9732;80&#x7AEF;&#x53E3;&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x5BBF;&#x4E3B;&#x673A;80&#x7AEF;&#x53E3;&#x4E0E;&#x5176;&#x901A;&#x4FE1;(: &#x4E4B;&#x524D;&#x662F;&#x5BBF;&#x4E3B;&#x673A;&#x7AEF;&#x53E3;&#xFF0C;&#x4E4B;&#x540E;&#x662F;&#x5BB9;&#x5668;&#x9700;&#x66B4;&#x9732;&#x7684;&#x7AEF;&#x53E3;)&#xFF0C;<code>docker run -d --name=ubuntu_server -p 80:80 ubuntu:latest</code></li>
<li>&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x5185;&#x76EE;&#x5F55;&#x4E0E;&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x5171;&#x4EAB;(: &#x4E4B;&#x524D;&#x662F;&#x5BBF;&#x4E3B;&#x673A;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x4E4B;&#x540E;&#x662F;&#x5BB9;&#x5668;&#x9700;&#x5171;&#x4EAB;&#x7684;&#x6587;&#x4EF6;&#x5939;)&#xFF0C;<code>docker run -d --name=ubuntu_server -v /etc/www:/var/www ubuntu:latest</code></li>
</ol>
<h2 id="&#x5B89;&#x88C5;Kubernetes">5. &#x5B89;&#x88C5;Kubernetes</h2>
<p>&#x5B98;&#x65B9;&#x6587;&#x6863;&#x6C38;&#x8FDC;&#x662F;&#x6700;&#x597D;&#x7684;&#x53C2;&#x8003;&#x8D44;&#x6599;&#xFF1A;<a href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/" target="_blank">https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/</a></p>
<h3 id="&#x914D;&#x7F6E;K8S&#x7684;yum&#x6E90;">5.1. &#x914D;&#x7F6E;K8S&#x7684;yum&#x6E90;</h3>
<p>&#x5B98;&#x65B9;&#x4ED3;&#x5E93;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x963F;&#x91CC;&#x6E90;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x6DFB;&#x52A0;kubernetes.repo&#x4ED3;&#x5E93;&#xFF1A;</p>
<pre><code># cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=0
repo_gpgcheck=0
gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg
       http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
EOF
</code></pre><h3 id="&#x5173;&#x95ED;swap">5.2. &#x5173;&#x95ED;swap</h3>
<pre><code># k8s&#x8981;&#x6C42;&#x5173;&#x95ED;swap
# swapoff -a &amp;&amp; sysctl -w vm.swappiness=0  # &#x5173;&#x95ED;swap
# sed -ri &apos;/^[^#]*swap/s@^@#@&apos; /etc/fstab  # &#x53D6;&#x6D88;&#x5F00;&#x673A;&#x6302;&#x8F7D;swap
</code></pre><h3 id="&#x5173;&#x95ED;SeLinux">5.3. &#x5173;&#x95ED;SeLinux</h3>
<pre><code># &#x5173;&#x95ED;SElinux
# setenforce 0
# sed -i &apos;s/^SELINUX=enforcing$/SELINUX=permissive/&apos; /etc/selinux/config
</code></pre><h3 id="&#x5B89;&#x88C5;K8S&#x7EC4;&#x4EF6;">5.4. &#x5B89;&#x88C5;K8S&#x7EC4;&#x4EF6;</h3>
<pre><code># &#x5B89;&#x88C5;kubelet kubeadm kubectl
# yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes
</code></pre><h3 id="&#x4FEE;&#x6539;docker_cgroup&#x9A71;&#x52A8;">5.5. &#x4FEE;&#x6539;docker cgroup&#x9A71;&#x52A8;</h3>
<p>&#x4FEE;&#x6539;docker cgroup&#x9A71;&#x52A8;&#xFF0C;&#x4E0E;k8s&#x4E00;&#x81F4;&#xFF0C;&#x4F7F;&#x7528;systemd</p>
<pre><code># &#x4FEE;&#x6539;docker cgroup&#x9A71;&#x52A8;&#xFF1A;native.cgroupdriver=systemd
# cat &gt; /etc/docker/daemon.json &lt;&lt;EOF
{
  &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;]
}
EOF

# systemctl restart docker  # &#x91CD;&#x542F;&#x4F7F;&#x914D;&#x7F6E;&#x751F;&#x6548;

# docker info | grep -i cgroup  # &#x67E5;&#x770B;&#x662F;&#x5426;&#x751F;&#x6548;
</code></pre><h3 id="&#x542F;&#x52A8;kubelet">5.6. &#x542F;&#x52A8;kubelet</h3>
<p>&#x6839;&#x636E;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x63CF;&#x8FF0;&#xFF0C;&#x5B89;&#x88C5;kubelet&#x3001;kubeadm&#x3001;kubectl&#x4E09;&#x8005;&#x540E;&#xFF0C;&#x8981;&#x6C42;&#x542F;&#x52A8;kubelet&#xFF1A;</p>
<pre><code># systemctl enable kubelet &amp;&amp; systemctl start kubelet
</code></pre><p>&#x4F46;&#x5B9E;&#x9645;&#x6D4B;&#x8BD5;&#x53D1;&#x73B0;&#xFF0C;&#x65E0;&#x6CD5;&#x542F;&#x52A8;&#xFF0C;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>[root@bd129137 ~]# systemctl status kubelet
&#x25CF; kubelet.service - kubelet: The Kubernetes Node Agent
   Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; vendor preset: disabled)
  Drop-In: /usr/lib/systemd/system/kubelet.service.d
           &#x2514;&#x2500;10-kubeadm.conf
   Active: activating (auto-restart) (Result: exit-code) since &#x56DB; 2019-06-20 19:50:46 CST; 6s ago
     Docs: https://kubernetes.io/docs/
  Process: 67625 ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS (code=exited, status=255)
 Main PID: 67625 (code=exited, status=255)

6&#x6708; 20 19:50:46 bd129137 systemd[1]: Unit kubelet.service entered failed state.
6&#x6708; 20 19:50:46 bd129137 systemd[1]: kubelet.service failed.
</code></pre><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;&#x6682;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x542F;&#x52A8;&#xFF0C;&#x540E;&#x9762;&#x7684;kubeadm init&#x64CD;&#x4F5C;&#x4F1A;&#x521B;&#x5EFA;&#x8BC1;&#x4E66;&#xFF0C;&#x7EE7;&#x7EED;&#x5F80;&#x540E;&#x64CD;&#x4F5C;&#xFF0C;&#x624D;&#x80FD;&#x542F;&#x52A8;&#x3002;</p>
<h2 id="&#x521B;&#x5EFA;Docker&#x96C6;&#x7FA4;">6. &#x521B;&#x5EFA;Docker&#x96C6;&#x7FA4;</h2>
<p>&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x673A;&#x7684;&#x53EF;&#x4EE5;&#x505A;&#x5B8C;&#x4EE5;&#x4E0A;&#x6B65;&#x9AA4;&#x540E;&#xFF0C;&#x8FDB;&#x884C;&#x514B;&#x9686;&#xFF0C;&#x4EE5;&#x4E0B;&#x533A;&#x5206; Master &#x4E0E; Node &#x8282;&#x70B9;&#x3002;&#x89C4;&#x5212;&#x96C6;&#x7FA4;&#x4E3A;1 Master&#xFF0C;2 Node&#x3002;</p>
<h3 id="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;">6.1. &#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h3>
<h4 id="Master&#x7AEF;">6.1.1. Master&#x7AEF;</h4>
<pre><code>kubeadm config images pull # &#x62C9;&#x53D6;&#x96C6;&#x7FA4;&#x6240;&#x9700;&#x955C;&#x50CF;&#xFF0C;&#x8FD9;&#x4E2A;&#x9700;&#x8981;&#x7FFB;&#x5899;

# --- &#x4E0D;&#x80FD;&#x7FFB;&#x5899;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4EE5;&#x4E0B;&#x529E;&#x6CD5; ---
kubeadm config images list # &#x5217;&#x51FA;&#x6240;&#x9700;&#x955C;&#x50CF;
#(&#x4E0D;&#x662F;&#x4E00;&#x5B9A;&#x662F;&#x4E0B;&#x9762;&#x7684;,&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x6765;)
# &#x6839;&#x636E;&#x6240;&#x9700;&#x955C;&#x50CF;&#x540D;&#x5B57;&#x5148;&#x62C9;&#x53D6;&#x56FD;&#x5185;&#x8D44;&#x6E90;
docker pull mirrorgooglecontainers/kube-apiserver:v1.14.3
docker pull mirrorgooglecontainers/kube-controller-manager:v1.14.3
docker pull mirrorgooglecontainers/kube-scheduler:v1.14.3
docker pull mirrorgooglecontainers/kube-proxy:v1.14.3
docker pull mirrorgooglecontainers/pause:3.1
docker pull mirrorgooglecontainers/etcd:3.3.10
docker pull coredns/coredns:1.3.1  # &#x8FD9;&#x4E2A;&#x5728;mirrorgooglecontainers&#x4E2D;&#x6CA1;&#x6709;

# &#x4FEE;&#x6539;&#x955C;&#x50CF;tag
docker tag mirrorgooglecontainers/kube-apiserver:v1.14.3 k8s.gcr.io/kube-apiserver:v1.14.3
docker tag mirrorgooglecontainers/kube-controller-manager:v1.14.3 k8s.gcr.io/kube-controller-manager:v1.14.3
docker tag mirrorgooglecontainers/kube-scheduler:v1.14.3 k8s.gcr.io/kube-scheduler:v1.14.3
docker tag mirrorgooglecontainers/kube-proxy:v1.14.3 k8s.gcr.io/kube-proxy:v1.14.3
docker tag mirrorgooglecontainers/pause:3.1 k8s.gcr.io/pause:3.1
docker tag mirrorgooglecontainers/etcd:3.3.10 k8s.gcr.io/etcd:3.3.10
docker tag coredns/coredns:1.3.1 k8s.gcr.io/coredns:1.3.1


# &#x628A;&#x6240;&#x9700;&#x7684;&#x955C;&#x50CF;&#x4E0B;&#x8F7D;&#x597D;&#xFF0C;init&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x62C9;&#x955C;&#x50CF;&#xFF0C;&#x7531;&#x4E8E;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;google&#x955C;&#x50CF;&#x5E93;&#x5BFC;&#x81F4;&#x51FA;&#x9519;

# docker images  # &#x67E5;&#x770B;&#x5F53;&#x524D;&#x955C;&#x50CF;

# &#x5220;&#x9664;&#x539F;&#x6765;&#x7684;&#x955C;&#x50CF;
docker rmi mirrorgooglecontainers/kube-apiserver:v1.14.3
docker rmi mirrorgooglecontainers/kube-controller-manager:v1.14.3
docker rmi mirrorgooglecontainers/kube-scheduler:v1.14.3
docker rmi mirrorgooglecontainers/kube-proxy:v1.14.3
docker rmi mirrorgooglecontainers/pause:3.1
docker rmi mirrorgooglecontainers/etcd:3.3.10
docker rmi coredns/coredns:1.3.1

# --- &#x4E0D;&#x80FD;&#x7FFB;&#x5899;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528; ---
</code></pre><h4 id="Node&#x7AEF;">6.1.2. Node&#x7AEF;</h4>
<pre><code># &#x6839;&#x636E;&#x6240;&#x9700;&#x955C;&#x50CF;&#x540D;&#x5B57;&#x5148;&#x62C9;&#x53D6;&#x56FD;&#x5185;&#x8D44;&#x6E90;
docker pull mirrorgooglecontainers/kube-proxy:v1.14.3
docker pull mirrorgooglecontainers/pause:3.1


# &#x4FEE;&#x6539;&#x955C;&#x50CF;tag
docker tag mirrorgooglecontainers/kube-proxy:v1.14.3 k8s.gcr.io/kube-proxy:v1.14.3
docker tag mirrorgooglecontainers/pause:3.1 k8s.gcr.io/pause:3.1

# &#x5220;&#x9664;&#x539F;&#x6765;&#x7684;&#x955C;&#x50CF;
docker rmi mirrorgooglecontainers/kube-proxy:v1.14.3
docker rmi mirrorgooglecontainers/pause:3.1
# &#x4E0D;&#x52A0;&#x8F7D;&#x955C;&#x50CF;node&#x8282;&#x70B9;&#x4E0D;&#x80FD;
</code></pre><h3 id="&#x4F7F;&#x7528;kubeadm&#x521B;&#x5EFA;&#x96C6;&#x7FA4;">6.2. &#x4F7F;&#x7528;kubeadm&#x521B;&#x5EFA;&#x96C6;&#x7FA4;</h3>
<h4 id="Docker&#x96C6;&#x7FA4;&#x89C4;&#x5212;">6.2.1. Docker&#x96C6;&#x7FA4;&#x89C4;&#x5212;</h4>
<pre><code>Master&#xFF1A;192.168.129.137   bd129137
Node1&#xFF1A;192.168.129.114    bd129114
Node2&#xFF1A;192.168.129.132   bd129132
</code></pre><h4 id="&#x521B;&#x5EFA;&#x96C6;&#x7FA4;">6.2.2. &#x521B;&#x5EFA;&#x96C6;&#x7FA4;</h4>
<p>&#x5728;Master&#x4E3B;&#x8282;&#x70B9;&#xFF08;bd129137&#xFF09;&#x4E0A;&#x6267;&#x884C;:</p>
<pre><code>kubeadm init --pod-network-cidr=192.168.0.0/16 --kubernetes-version=v1.14.3  --apiserver-advertise-address=192.168.129.137
</code></pre><p>&#x542B;&#x4E49;&#xFF1A;</p>
<ol>
<li>&#x9009;&#x9879;--pod-network-cidr=192.168.0.0/16&#x8868;&#x793A;&#x96C6;&#x7FA4;&#x5C06;&#x4F7F;&#x7528;Calico&#x7F51;&#x7EDC;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x63D0;&#x524D;&#x6307;&#x5B9A;Calico&#x7684;&#x5B50;&#x7F51;&#x8303;&#x56F4;</li>
<li>&#x9009;&#x9879;--kubernetes-version=v1.10.0&#x6307;&#x5B9A;K8S&#x7248;&#x672C;&#xFF0C;&#x8FD9;&#x91CC;&#x5FC5;&#x987B;&#x4E0E;&#x4E4B;&#x524D;&#x5BFC;&#x5165;&#x5230;Docker&#x955C;&#x50CF;&#x7248;&#x672C;v1.10.0&#x4E00;&#x81F4;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x8BBF;&#x95EE;&#x8C37;&#x6B4C;&#x53BB;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;K8S&#x6700;&#x65B0;&#x7248;&#x7684;Docker&#x955C;&#x50CF;</li>
<li>&#x9009;&#x9879;--apiserver-advertise-address&#x8868;&#x793A;&#x7ED1;&#x5B9A;&#x7684;&#x7F51;&#x5361;IP&#xFF0C;&#x8FD9;&#x91CC;&#x4E00;&#x5B9A;&#x8981;&#x7ED1;&#x5B9A;&#x524D;&#x9762;&#x63D0;&#x5230;&#x7684;enp0s8&#x7F51;&#x5361;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;enp0s3&#x7F51;&#x5361;</li>
<li>&#x82E5;&#x6267;&#x884C;kubeadm init&#x51FA;&#x9519;&#x6216;&#x5F3A;&#x5236;&#x7EC8;&#x6B62;&#xFF0C;&#x5219;&#x518D;&#x9700;&#x8981;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x6267;&#x884C;kubeadm reset&#x91CD;&#x7F6E;</li>
</ol>
<blockquote>
<p>&#x95EE;&#x9898;&#xFF1A;</p>
<pre><code>[ERROR FileContent--proc-sys-net-bridge-bridge-nf-call-iptables]: /proc/sys/net/bridge/bridge-nf-call-iptables contents are not set to 1
</code></pre><p>&#x89E3;&#x51B3;&#xFF1A;</p>
<pre><code>[root@k8snode1 k8s_images]# echo &quot;1&quot; &gt;/proc/sys/net/bridge/bridge-nf-call-iptables
</code></pre></blockquote>
<p>&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre><code>[root@bd129137 ~]# kubeadm init --pod-network-cidr=192.168.0.0/16 --kubernetes-version=v1.14.3  --apiserver-advertise-address=192.168.129.137
[init] Using Kubernetes version: v1.14.3
[preflight] Running pre-flight checks
    [WARNING Service-Docker]: docker service is not enabled, please run &apos;systemctl enable docker.service&apos;
    [WARNING Hostname]: hostname &quot;bd129137&quot; could not be reached
    [WARNING Hostname]: hostname &quot;bd129137&quot;: lookup bd129137 on 202.102.192.68:53: no such host
[preflight] Pulling images required for setting up a Kubernetes cluster
[preflight] This might take a minute or two, depending on the speed of your internet connection
[preflight] You can also perform this action in beforehand using &apos;kubeadm config images pull&apos;
[kubelet-start] Writing kubelet environment file with flags to file &quot;/var/lib/kubelet/kubeadm-flags.env&quot;
[kubelet-start] Writing kubelet configuration to file &quot;/var/lib/kubelet/config.yaml&quot;
[kubelet-start] Activating the kubelet service
[certs] Using certificateDir folder &quot;/etc/kubernetes/pki&quot;
[certs] Generating &quot;etcd/ca&quot; certificate and key
[certs] Generating &quot;apiserver-etcd-client&quot; certificate and key
[certs] Generating &quot;etcd/server&quot; certificate and key
[certs] etcd/server serving cert is signed for DNS names [bd129137 localhost] and IPs [192.168.129.137 127.0.0.1 ::1]
[certs] Generating &quot;etcd/healthcheck-client&quot; certificate and key
[certs] Generating &quot;etcd/peer&quot; certificate and key
[certs] etcd/peer serving cert is signed for DNS names [bd129137 localhost] and IPs [192.168.129.137 127.0.0.1 ::1]
[certs] Generating &quot;ca&quot; certificate and key
[certs] Generating &quot;apiserver&quot; certificate and key
[certs] apiserver serving cert is signed for DNS names [bd129137 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.129.137]
[certs] Generating &quot;apiserver-kubelet-client&quot; certificate and key
[certs] Generating &quot;front-proxy-ca&quot; certificate and key
[certs] Generating &quot;front-proxy-client&quot; certificate and key
[certs] Generating &quot;sa&quot; key and public key
[kubeconfig] Using kubeconfig folder &quot;/etc/kubernetes&quot;
[kubeconfig] Writing &quot;admin.conf&quot; kubeconfig file
[kubeconfig] Writing &quot;kubelet.conf&quot; kubeconfig file
[kubeconfig] Writing &quot;controller-manager.conf&quot; kubeconfig file
[kubeconfig] Writing &quot;scheduler.conf&quot; kubeconfig file
[control-plane] Using manifest folder &quot;/etc/kubernetes/manifests&quot;
[control-plane] Creating static Pod manifest for &quot;kube-apiserver&quot;
[control-plane] Creating static Pod manifest for &quot;kube-controller-manager&quot;
[control-plane] Creating static Pod manifest for &quot;kube-scheduler&quot;
[etcd] Creating static Pod manifest for local etcd in &quot;/etc/kubernetes/manifests&quot;
[wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory &quot;/etc/kubernetes/manifests&quot;. This can take up to 4m0s
[apiclient] All control plane components are healthy after 17.505580 seconds
[upload-config] storing the configuration used in ConfigMap &quot;kubeadm-config&quot; in the &quot;kube-system&quot; Namespace
[kubelet] Creating a ConfigMap &quot;kubelet-config-1.14&quot; in namespace kube-system with the configuration for the kubelets in the cluster
[upload-certs] Skipping phase. Please see --experimental-upload-certs
[mark-control-plane] Marking the node bd129137 as control-plane by adding the label &quot;node-role.kubernetes.io/master=&apos;&apos;&quot;
[mark-control-plane] Marking the node bd129137 as control-plane by adding the taints [node-role.kubernetes.io/master:NoSchedule]
[bootstrap-token] Using token: hgrnmd.f6k1berx8s8r9l2k
[bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles
[bootstrap-token] configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials
[bootstrap-token] configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token
[bootstrap-token] configured RBAC rules to allow certificate rotation for all node client certificates in the cluster
[bootstrap-token] creating the &quot;cluster-info&quot; ConfigMap in the &quot;kube-public&quot; namespace
[addons] Applied essential addon: CoreDNS
[addons] Applied essential addon: kube-proxy

Your Kubernetes control-plane has initialized successfully!

To start using your cluster, you need to run the following as a regular user:

  mkdir -p $HOME/.kube
  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
  sudo chown $(id -u):$(id -g) $HOME/.kube/config

You should now deploy a pod network to the cluster.
Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at:
  https://kubernetes.io/docs/concepts/cluster-administration/addons/

Then you can join any number of worker nodes by running the following on each as root:

kubeadm join 192.168.129.137:6443 --token hgrnmd.f6k1berx8s8r9l2k \
    --discovery-token-ca-cert-hash sha256:c029eab4924e93b5daae1339f06392e7ee003778a7d5d2b99e0d59b99cf6e9b9
</code></pre><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x63D0;&#x793A;&#x96C6;&#x7FA4;&#x6210;&#x529F;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown $(id -u):$(id -g) $HOME/.kube/config
</code></pre><p>&#x53E6;&#x5916;&#xFF0C; &#x63D0;&#x793A;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x7F51;&#x7EDC;&#xFF0C;&#x5E76;&#x4E14;&#x8BA9;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x6267;&#x884C;kubeadm join...&#x52A0;&#x5165;&#x96C6;&#x7FA4;&#x3002;</p>
<pre><code>kubeadm join 192.168.129.137:6443 --token hgrnmd.f6k1berx8s8r9l2k \
    --discovery-token-ca-cert-hash sha256:c029eab4924e93b5daae1339f06392e7ee003778a7d5d2b99e0d59b99cf6e9b9
</code></pre><h3 id="&#x5E94;&#x7528;flannel&#x7F51;&#x7EDC;">6.3. &#x5E94;&#x7528;flannel&#x7F51;&#x7EDC;</h3>
<pre><code># kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
</code></pre><h3 id="Node_&#x52A0;&#x5165;&#x96C6;&#x7FA4;">6.4. Node &#x52A0;&#x5165;&#x96C6;&#x7FA4;</h3>
<pre><code># Node1:
kubeadm join 192.168.129.137:6443 --token hgrnmd.f6k1berx8s8r9l2k \
    --discovery-token-ca-cert-hash sha256:c029eab4924e93b5daae1339f06392e7ee003778a7d5d2b99e0d59b99cf6e9b9

# Node2:
kubeadm join 192.168.129.137:6443 --token hgrnmd.f6k1berx8s8r9l2k \
    --discovery-token-ca-cert-hash sha256:c029eab4924e93b5daae1339f06392e7ee003778a7d5d2b99e0d59b99cf6e9b9
</code></pre><p>&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre><code>[root@bd129114 ~]# kubeadm join 192.168.129.137:6443 --token hgrnmd.f6k1berx8s8r9l2k     --discovery-token-ca-cert-hash sha256:c029eab4924e93b5daae1339f06392e7ee003778a7d5d2b99e0d59b99cf6e9b9
[preflight] Running pre-flight checks
    [WARNING Service-Docker]: docker service is not enabled, please run &apos;systemctl enable docker.service&apos;
    [WARNING Hostname]: hostname &quot;bd129114&quot; could not be reached
    [WARNING Hostname]: hostname &quot;bd129114&quot;: lookup bd129114 on 202.102.192.68:53: no such host
    [WARNING Service-Kubelet]: kubelet service is not enabled, please run &apos;systemctl enable kubelet.service&apos;
[preflight] Reading configuration from the cluster...
[preflight] FYI: You can look at this config file with &apos;kubectl -n kube-system get cm kubeadm-config -oyaml&apos;
[kubelet-start] Downloading configuration for the kubelet from the &quot;kubelet-config-1.14&quot; ConfigMap in the kube-system namespace
[kubelet-start] Writing kubelet configuration to file &quot;/var/lib/kubelet/config.yaml&quot;
[kubelet-start] Writing kubelet environment file with flags to file &quot;/var/lib/kubelet/kubeadm-flags.env&quot;
[kubelet-start] Activating the kubelet service
[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...

This node has joined the cluster:
* Certificate signing request was sent to apiserver and a response was received.
* The Kubelet was informed of the new secure connection details.

Run &apos;kubectl get nodes&apos; on the control-plane to see this node join the cluster.
</code></pre><p>&#x9047;&#x5230;&#x7684;&#x5751;&#xFF1A;<code>couldn&apos;t validate the identity of the API Server</code></p>
<pre><code>[root@bd129114 ~]# kubeadm join 192.168.129.137:6443 --token hgrnmd.f6k1berx8s8r9l2k     --discovery-token-ca-cert-hash sha256:c029eab4924e93b5daae1339f06392e7ee003778a7d5d2b99e0d59b99cf6e9b9
[preflight] Running pre-flight checks
    [WARNING Service-Docker]: docker service is not enabled, please run &apos;systemctl enable docker.service&apos;
    [WARNING Hostname]: hostname &quot;bd129114&quot; could not be reached
    [WARNING Hostname]: hostname &quot;bd129114&quot;: lookup bd129114 on 202.102.192.68:53: no such host
    [WARNING Service-Kubelet]: kubelet service is not enabled, please run &apos;systemctl enable kubelet.service&apos;

error execution phase preflight: couldn&apos;t validate the identity of the API Server: abort connecting to API servers after timeout of 5m0s
</code></pre><p>&#x89E3;&#x51B3;&#xFF1A;</p>
<pre><code># yum -y install device-mapper-persistent-data lvm2
</code></pre><h3 id="&#x6392;&#x9519;&#x547D;&#x4EE4;">6.5. &#x6392;&#x9519;&#x547D;&#x4EE4;</h3>
<pre><code>journalctl -f                           # &#x5F53;&#x524D;&#x8F93;&#x51FA;&#x65E5;&#x5FD7;
journalctl -f -u kubelet       # &#x53EA;&#x770B;&#x5F53;&#x524D;&#x7684;kubelet&#x8FDB;&#x7A0B;&#x65E5;&#x5FD7;
</code></pre><h3 id="&#x9A8C;&#x8BC1;&#x96C6;&#x7FA4;&#x662F;&#x5426;&#x6B63;&#x5E38;">6.6. &#x9A8C;&#x8BC1;&#x96C6;&#x7FA4;&#x662F;&#x5426;&#x6B63;&#x5E38;</h3>
<p>&#x5F53;&#x6240;&#x6709;&#x8282;&#x70B9;&#x52A0;&#x5165;&#x96C6;&#x7FA4;&#x540E;&#xFF0C;&#x7A0D;&#x7B49;&#x7247;&#x523B;&#xFF0C;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;&#x8FD0;&#x884C; <code>kubectl get nodes</code> &#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;</p>
<pre><code>[root@bd129137 ~]# kubectl get nodes
NAME       STATUS     ROLES    AGE     VERSION
bd129114   NotReady   &lt;none&gt;   2m20s   v1.14.3
bd129132   NotReady   &lt;none&gt;   44s     v1.14.3
bd129137   Ready      master   33m     v1.14.3

# &#x82E5;&#x63D0;&#x793A;notReady&#x5219;&#x8868;&#x793A;&#x8282;&#x70B9;&#x5C1A;&#x672A;&#x51C6;&#x5907;&#x597D;&#xFF0C;&#x53EF;&#x80FD;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x5176;&#x4ED6;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#xFF0C;&#x7B49;&#x5F85;&#x5168;&#x90E8;&#x53D8;&#x4E3A;Ready&#x5373;&#x53EF;&#x3002;

[root@bd129137 ~]# kubectl get nodes
NAME       STATUS   ROLES    AGE     VERSION
bd129114   Ready    &lt;none&gt;   4m36s   v1.14.3
bd129132   Ready    &lt;none&gt;   3m      v1.14.3
bd129137   Ready    master   35m     v1.14.3
</code></pre><p>&#x53E6;&#x5916;&#xFF0C;&#x5EFA;&#x8BAE;&#x67E5;&#x770B;&#x6240;&#x6709;pod&#x72B6;&#x6001;&#xFF0C;&#x8FD0;&#x884C; <code>kubectl get pods -n kube-system</code>&#xFF1A;</p>
<pre><code>[root@bd129137 ~]# kubectl get pods --all-namespaces
NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE
kube-system   coredns-fb8b8dccf-rx4wv            1/1     Running   0          34m
kube-system   coredns-fb8b8dccf-xxzcn            1/1     Running   0          34m
kube-system   etcd-bd129137                      1/1     Running   0          34m
kube-system   kube-apiserver-bd129137            1/1     Running   0          34m
kube-system   kube-controller-manager-bd129137   1/1     Running   0          33m
kube-system   kube-flannel-ds-amd64-9d79f        1/1     Running   0          4m1s
kube-system   kube-flannel-ds-amd64-l4x2m        1/1     Running   0          22m
kube-system   kube-flannel-ds-amd64-xgd6m        1/1     Running   0          2m25s
kube-system   kube-proxy-5q6vv                   1/1     Running   0          2m25s
kube-system   kube-proxy-l6lkm                   1/1     Running   0          34m
kube-system   kube-proxy-pthkp                   1/1     Running   0          4m1s
kube-system   kube-scheduler-bd129137            1/1     Running   0          34m
</code></pre><p>&#x5982;&#x4E0A;&#xFF0C;&#x5168;&#x90E8; Running &#x5219;&#x8868;&#x793A;&#x96C6;&#x7FA4;&#x6B63;&#x5E38;&#x3002;&#x81F3;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x7684;K8S&#x96C6;&#x7FA4;&#x5C31;&#x642D;&#x5EFA;&#x6210;&#x529F;&#x4E86;&#x3002;</p>
<p>&#x4EE5;&#x4E0A;Docker+K8S&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#xFF0C;&#x603B;&#x5171;&#x82B1;&#x4E86;3&#x4E2A;&#x534A;&#x5C0F;&#x65F6;&#x3002;</p>
<h2 id="&#x53C2;&#x8003;&#x8D44;&#x6599;">7. &#x53C2;&#x8003;&#x8D44;&#x6599;</h2>
<ol>
<li><a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank">Docker&#x5B98;&#x65B9;&#x5B89;&#x88C5;&#x6587;&#x6863;</a></li>
<li><a href="https://www.runoob.com/docker/centos-docker-install.html" target="_blank">CentOS Docker &#x5B89;&#x88C5;</a></li>
<li><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/" target="_blank">kubernetes&#x5B98;&#x65B9;&#x5B89;&#x88C5;&#x6587;&#x6863;</a></li>
<li><a href="https://juejin.im/post/5cb7dde9f265da034d2a0dba" target="_blank">2019&#x6700;&#x65B0;k8s&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#x6559;&#x7A0B; (centos k8s &#x642D;&#x5EFA;)</a></li>
<li><a href="https://www.jianshu.com/p/78a5afd0c597" target="_blank">&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x642D;&#x5EFA;Kubernetes&#x96C6;&#x7FA4;&#xFF08;&#x4E00;&#x3001;&#x5F00;&#x7BC7;&#xFF09;</a></li>
<li><a href="https://www.cnblogs.com/yfalcon/p/9044246.html" target="_blank">Docker&#x547D;&#x4EE4;&#x8BE6;&#x89E3;&#xFF08;run&#x7BC7;&#xFF09;</a></li>
<li><a href="https://www.runoob.com/docker/docker-run-command.html" target="_blank">Docker run &#x547D;&#x4EE4;</a></li>
</ol>
<h2 id="ChangeLog">8. ChangeLog</h2>
<ul>
<li>20190702 | &#x53D1;&#x5E03;&#x5230;&#x77E5;&#x8BC6;&#x5E93;</li>
<li>20190621 | &#x53D1;&#x5E03;&#x5230;&#x8BED;&#x96C0;<a href="https://www.yuque.com/wenbin-wiki/learning" target="_blank">&#x6587;&#x658C;&#x6280;&#x672F;Wiki</a></li>
<li>20190621 | &#x589E;&#x52A0; docker run &#x547D;&#x4EE4;&#x8BE6;&#x89E3;</li>
<li>20190620 | &#x5B89;&#x88C5;Docker+K8S&#x96C6;&#x7FA4;&#x6210;&#x529F;&#xFF0C;&#x521B;&#x5EFA;&#x6587;&#x6863;&#x3002; </li>
</ul>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; zhbwang all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2019-07-02 09:49:57
</span></footer><div id="anchors-navbar"><i class="fa fa-anchor"></i><ul><p><a href="#CentOS_7_&#x5B89;&#x88C5;_Docker___K8S_&#x96C6;&#x7FA4;&#x6307;&#x5357;">CentOS 7 &#x5B89;&#x88C5; Docker + K8S &#x96C6;&#x7FA4;&#x6307;&#x5357;</a></p><li><a href="#&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x51C6;&#x5907;">1. &#x5B89;&#x88C5;&#x73AF;&#x5883;&#x51C6;&#x5907;</a></li><li><a href="#&#x65B0;&#x624B;&#x5165;&#x95E8;">2. &#x65B0;&#x624B;&#x5165;&#x95E8;</a></li><li><a href="#&#x5B89;&#x88C5;_Docker">3. &#x5B89;&#x88C5; Docker</a></li><ul><li><a href="#&#x589E;&#x52A0;_Docker_&#x4ED3;&#x5E93;">3.1. &#x589E;&#x52A0; Docker &#x4ED3;&#x5E93;</a></li><li><a href="#&#x4F7F;&#x7528;_yum_&#x5B89;&#x88C5;_Docker-CE">3.2. &#x4F7F;&#x7528; yum &#x5B89;&#x88C5; Docker-CE</a></li><li><a href="#&#x542F;&#x52A8;_Docker_&#x540E;&#x53F0;&#x670D;&#x52A1;">3.3. &#x542F;&#x52A8; Docker &#x540E;&#x53F0;&#x670D;&#x52A1;</a></li><li><a href="#&#x67E5;&#x770B;_Docker_&#x7248;&#x672C;">3.4. &#x67E5;&#x770B; Docker &#x7248;&#x672C;</a></li><li><a href="#&#x67E5;&#x770B;_Docker_&#x4FE1;&#x606F;">3.5. &#x67E5;&#x770B; Docker &#x4FE1;&#x606F;</a></li><li><a href="#&#x9A8C;&#x8BC1;_Docker">3.6. &#x9A8C;&#x8BC1; Docker</a></li><li><a href="#&#x8D70;&#x8FC7;&#x7684;&#x5751;">3.7. &#x8D70;&#x8FC7;&#x7684;&#x5751;</a></li><ul><li><a href="#&#x83B7;&#x53D6;&#x5BC6;&#x94A5;&#x5931;&#x8D25;">3.7.1. &#x83B7;&#x53D6;&#x5BC6;&#x94A5;&#x5931;&#x8D25;</a></li></ul></ul><li><a href="#Docker_&#x547D;&#x4EE4;">4. Docker &#x547D;&#x4EE4;</a></li><ul><li><a href="#&#x57FA;&#x7840;&#x547D;&#x4EE4;">4.1. &#x57FA;&#x7840;&#x547D;&#x4EE4;</a></li><li><a href="#&#x4F7F;&#x7528;&#x955C;&#x50CF;">4.2. &#x4F7F;&#x7528;&#x955C;&#x50CF;</a></li><li><a href="#&#x4F7F;&#x7528;&#x5BB9;&#x5668;">4.3. &#x4F7F;&#x7528;&#x5BB9;&#x5668;</a></li><li><a href="#Docker_run_&#x547D;&#x4EE4;&#x8BE6;&#x89E3;">4.4. Docker run &#x547D;&#x4EE4;&#x8BE6;&#x89E3;</a></li><ul><li><a href="#&#x5E38;&#x7528;&#x9009;&#x9879;&#x8BF4;&#x660E;">4.4.1. &#x5E38;&#x7528;&#x9009;&#x9879;&#x8BF4;&#x660E;</a></li><li><a href="#&#x793A;&#x4F8B;">4.4.2. &#x793A;&#x4F8B;</a></li></ul></ul><li><a href="#&#x5B89;&#x88C5;Kubernetes">5. &#x5B89;&#x88C5;Kubernetes</a></li><ul><li><a href="#&#x914D;&#x7F6E;K8S&#x7684;yum&#x6E90;">5.1. &#x914D;&#x7F6E;K8S&#x7684;yum&#x6E90;</a></li><li><a href="#&#x5173;&#x95ED;swap">5.2. &#x5173;&#x95ED;swap</a></li><li><a href="#&#x5173;&#x95ED;SeLinux">5.3. &#x5173;&#x95ED;SeLinux</a></li><li><a href="#&#x5B89;&#x88C5;K8S&#x7EC4;&#x4EF6;">5.4. &#x5B89;&#x88C5;K8S&#x7EC4;&#x4EF6;</a></li><li><a href="#&#x4FEE;&#x6539;docker_cgroup&#x9A71;&#x52A8;">5.5. &#x4FEE;&#x6539;docker cgroup&#x9A71;&#x52A8;</a></li><li><a href="#&#x542F;&#x52A8;kubelet">5.6. &#x542F;&#x52A8;kubelet</a></li></ul><li><a href="#&#x521B;&#x5EFA;Docker&#x96C6;&#x7FA4;">6. &#x521B;&#x5EFA;Docker&#x96C6;&#x7FA4;</a></li><ul><li><a href="#&#x51C6;&#x5907;&#x5DE5;&#x4F5C;">6.1. &#x51C6;&#x5907;&#x5DE5;&#x4F5C;</a></li><ul><li><a href="#Master&#x7AEF;">6.1.1. Master&#x7AEF;</a></li><li><a href="#Node&#x7AEF;">6.1.2. Node&#x7AEF;</a></li></ul><li><a href="#&#x4F7F;&#x7528;kubeadm&#x521B;&#x5EFA;&#x96C6;&#x7FA4;">6.2. &#x4F7F;&#x7528;kubeadm&#x521B;&#x5EFA;&#x96C6;&#x7FA4;</a></li><ul><li><a href="#Docker&#x96C6;&#x7FA4;&#x89C4;&#x5212;">6.2.1. Docker&#x96C6;&#x7FA4;&#x89C4;&#x5212;</a></li><li><a href="#&#x521B;&#x5EFA;&#x96C6;&#x7FA4;">6.2.2. &#x521B;&#x5EFA;&#x96C6;&#x7FA4;</a></li></ul><li><a href="#&#x5E94;&#x7528;flannel&#x7F51;&#x7EDC;">6.3. &#x5E94;&#x7528;flannel&#x7F51;&#x7EDC;</a></li><li><a href="#Node_&#x52A0;&#x5165;&#x96C6;&#x7FA4;">6.4. Node &#x52A0;&#x5165;&#x96C6;&#x7FA4;</a></li><li><a href="#&#x6392;&#x9519;&#x547D;&#x4EE4;">6.5. &#x6392;&#x9519;&#x547D;&#x4EE4;</a></li><li><a href="#&#x9A8C;&#x8BC1;&#x96C6;&#x7FA4;&#x662F;&#x5426;&#x6B63;&#x5E38;">6.6. &#x9A8C;&#x8BC1;&#x96C6;&#x7FA4;&#x662F;&#x5426;&#x6B63;&#x5E38;</a></li></ul><li><a href="#&#x53C2;&#x8003;&#x8D44;&#x6599;">7. &#x53C2;&#x8003;&#x8D44;&#x6599;</a></li><li><a href="#ChangeLog">8. ChangeLog</a></li></ul></div><a href="#&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x51C6;&#x5907;" id="goTop"><i class="fa fa-arrow-up"></i></a>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="20190621DockerAndK8sStart.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Docker 与 Kubernetes 快速入门">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Docker + K8S 集群环境安装指南","level":"3.3.1","depth":2,"next":{"title":"Docker 与 Kubernetes 快速入门","level":"3.3.2","depth":2,"path":"20190621DockerAndK8sStart.md","ref":"20190621DockerAndK8sStart.md","articles":[]},"previous":{"title":"Docker + Kubernetes 实践","level":"3.3","depth":1,"ref":"","articles":[{"title":"Docker + K8S 集群环境安装指南","level":"3.3.1","depth":2,"path":"20190620InstallationOfDockerAndK8s.md","ref":"20190620InstallationOfDockerAndK8s.md","articles":[]},{"title":"Docker 与 Kubernetes 快速入门","level":"3.3.2","depth":2,"path":"20190621DockerAndK8sStart.md","ref":"20190621DockerAndK8sStart.md","articles":[]},{"title":"Docker 部署 Nginx + PHP 环境","level":"3.3.3","depth":2,"path":"20190624NginxPHPInDocker.md","ref":"20190624NginxPHPInDocker.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-sharing","-livereload","theme-default","-lunr","-search","search-pro","expandable-chapters","simple-page-toc","navigator","tbfed-pagefooter"],"root":"./wiki@learning","styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"simple-page-toc":{"maxDepth":3,"skipFirstH1":true},"tbfed-pagefooter":{"copyright":"Copyright &copy zhbwang","modify_label":"修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"search-pro":{},"expandable-chapters":{},"navigator":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"theme":"default","author":"wangzb","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"文斌的学习笔记","gitbook":"*","description":"文斌的学习笔记","direction":"rtl"},"file":{"path":"20190620InstallationOfDockerAndK8s.md","mtime":"2019-07-02T01:49:57.315Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-07-05T03:21:49.046Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

